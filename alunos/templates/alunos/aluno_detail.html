{% extends 'base.html' %}
{% load static %}

{% block title %}Detalhes do Aluno - {{ aluno.nome }}{% endblock %}

{% block content %}
<style>
   * {
    font-family: 'Inter', sans-serif;
  }

  .page-title {
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 2rem;
    text-align: center;
    color: #1f2937;
    animation: fade-in-down 0.6s ease-out both;
  }

  @keyframes fade-in-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in {
    animation: fade-in 0.5s ease-in-out;
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
</style>

<div class="max-w-4xl mx-auto pt-4 fade-in">
  <div class="bg-blue-50 border border-blue-300 rounded-2xl shadow-xl p-6">

    <h2 class="page-title flex items-center justify-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="w-5 h-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 010 5.656l-2.828 2.828a4 4 0 01-5.656-5.656l1.414-1.414m6.242-6.242a4 4 0 015.656 5.656l-2.828 2.828a4 4 0 01-5.656-5.656l1.414-1.414"/>
      </svg>
      Detalhes do Aluno
    </h2>

    <div class="flex flex-col md:flex-row gap-6">

      <!-- Foto -->
      <div class="flex-shrink-0 text-center">
    {% if aluno.foto %}
      <img src="{{ aluno.foto.url }}" 
           alt="Foto de {{ aluno.nome }}" 
           class="rounded-xl w-48 h-48 object-cover border border-gray-200 shadow-sm" />
    {% else %}
      <div class="w-48 h-48 flex items-center justify-center bg-gray-100 text-gray-400 rounded-xl border border-gray-200">
        Sem foto
      </div>
    {% endif %}
    <p class="mt-1 text-xs text-gray-500 italic">
        Cadastrado por: {{ aluno.cadastrado_por }}
    </p>
</div>

      <!-- Informações -->
      <div class="flex-grow">
        <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 text-gray-900">

          <div>
            <dt class="font-semibold text-gray-700">Nome</dt>
            <dd>{{ aluno.nome }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">CPF</dt>
            <dd>{{ aluno.cpf }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Data de Nascimento</dt>
            <dd>{{ aluno.data_nascimento|date:"d/m/Y" }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Telefone</dt>
            <dd>{{ aluno.telefone }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">E-mail</dt>
            <dd>{{ aluno.email|default:"-------"  }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Endereço</dt>
            <dd>{{ aluno.endereco|default:"-------"  }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Data do Cadastro</dt>
            <dd class="capitalize">{{ aluno.data_cadastro|date:"d/m/Y" }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Categoria Etária</dt>
            <dd>{{ aluno.grupo_idade.categoria_etaria }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Faixa</dt>
            <dd>{{ aluno.faixa_aluno.faixa|default:"-------" }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Gênero</dt>
            <dd>{{ aluno.genero_aluno.genero }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Mensal ou Plano</dt>
            <dd>{{ aluno.pagamento_aluno.pagamento }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Método de Pagamento</dt>
            <dd>{{ aluno.metodo_pagamento.metodo }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Valor Pago</dt>
            <dd>R$ {{ aluno.valor_pago }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Último Pagamento</dt>
            <dd>{{ aluno.data_pagamento|date:"d/m/Y"|default:"Nenhum Pagamento Efetuado"  }}</dd>
          </div>

          <div>
            <dt class="font-semibold text-gray-700">Próximo Pagamento</dt>
            <dd>
              {% if aluno.proximo_pagamento %}
                {{ aluno.proximo_pagamento|date:"d/m/Y" }}
              {% else %}
                Não informado
              {% endif %}
            </dd>
          </div>

          <div>
            <dt class="font-semibold text-purple-700">Status do Pagamento</dt>
            <dd class="capitalize">{{ aluno.status_pagamento }}</dd>
          </div>
          <div>
        </dl>

        </dl>

        <div class="mt-6 flex flex-wrap gap-4">

  <!-- Voltar -->
  <a href="{% url 'lista_alunos' %}" class="flex items-center gap-2 text-blue-600 hover:underline font-medium">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Voltar à lista
  </a>

  <!-- Editar -->
  <a href="{% url 'editar_aluno' aluno.pk %}" class="flex items-center gap-2 text-gray-600 hover:underline font-medium">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 20h9M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4 12.5-12.5z" />
    </svg>
    Editar
  </a>

  <!-- Excluir -->
  <a href="{% url 'delete_aluno' aluno.pk%}" class="flex items-center gap-2 text-red-600 hover:underline font-medium">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 7L5 7M10 11v6M14 11v6M6 7l1 12a2 2 0 002 2h6a2 2 0 002-2l1-12" />
    </svg>
    Excluir
  </a>

</div>


      </div>

    </div>

  </div>
</div>
{% endblock %}
